{"version":3,"file":"js/6970.7ee06806.js","mappings":"kLACOA,GAAG,mB,0CAARC,EAAAA,EAAAA,IAAgC,MAAhCC,E,wGAMF,GACEC,OACE,MAAO,CACLC,KAAMC,gBAEV,EACAC,UACEC,KAAKC,MACP,EACAC,QAAS,CACPC,aACE,MAAMC,EAAS,IAAIC,EAAAA,EAAc,kBAAmB,CAElDC,WAAW,EACXC,UAAU,IAERF,EAAAA,EAAAA,oCAEFD,EAAOI,gBAAkBC,OAAOC,kBAElCN,EAAOO,MAAMC,kBAAkBC,KAAKC,SAAU,EAC9CV,EAAOO,MAAMI,0BAA2B,EAGxC,MAAMC,EAAWX,EAAAA,EAAAA,YACf,OAAQ,MAAO,KAEXY,EAAsB,IAAIZ,EAAAA,EAC1Ba,EAAsBb,EAAAA,EAAAA,gCAC1B,QACA,QAEF,IACE,MAAMc,QAAcd,EAAAA,EAAAA,cAA2B,CAC7Ce,IAAKpB,KAAKH,KAAO,gCACjBwB,MAAO,IACPC,YAAajB,EAAAA,EAAAA,6BACXW,EACAC,EACAZ,EAAAA,EAAAA,MACAa,GAEFK,iBAAkB,MAEpBnB,EAAOO,MAAMa,WAAWC,IAAIN,EAG9B,CAFE,MAAOO,GACPC,QAAQC,IAAK,yBAAwBF,IACvC,CAEA,IAAIG,EAAQ,EACZzB,EAAO0B,OAAOC,OAAOf,EAAU,IAAIX,EAAAA,EAAyBA,EAAAA,EAAAA,UAAsBwB,GAAQxB,EAAAA,EAAAA,WAAuB,IAAK,MACtHD,EAAO4B,MAAMC,OAAOC,kBAAiB,KACnCL,GAAS,GAAMzB,EAAO4B,MAAMG,WAC5B,MAAMC,EAAU/B,EAAAA,EAAAA,UAAsBwB,GAChCQ,EAAQjC,EAAO0B,OAAOO,MAC5BjC,EAAO0B,OAAOC,OAAOf,EAAU,IAAIX,EAAAA,EAAyB+B,EAASC,EAAO,KAAM,GAEtF,I,WCzDJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/rotate_arround.vue","webpack://webgis/./src/components/public/rotate_arround.vue?2cf0"],"sourcesContent":["<template>\r\n  <div id=\"cesiumContainer\"></div>\r\n</template>\r\n\r\n<script>\r\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\r\nimport * as Cesium from 'cesium'\r\nexport default {\r\n  data() {\r\n    return {\r\n      path: process.env.BASE_URL\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    async init() {\r\n      const viewer = new Cesium.Viewer('cesiumContainer', {\r\n        // terrainProvider: await Cesium.createWorldTerrainAsync(),\r\n        animation: false,\r\n        timeline: false,\r\n      })\r\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\r\n        //判断是否支持图像渲染像素化处理\r\n        viewer.resolutionScale = window.devicePixelRatio\r\n      }\r\n      viewer.scene.postProcessStages.fxaa.enabled = true\r\n      viewer.scene.debugShowFramesPerSecond = true // 显示帧率\r\n\r\n      // Position a model with modelMatrix and display it with a minimum size of 128 pixels\r\n      const position = Cesium.Cartesian3.fromDegrees(\r\n        114.46, 34.92, 100\r\n      );\r\n      const headingPositionRoll = new Cesium.HeadingPitchRoll();\r\n      const fixedFrameTransform = Cesium.Transforms.localFrameToFixedFrameGenerator(\r\n        \"north\",\r\n        \"west\"\r\n      );\r\n      try {\r\n        const model = await Cesium.Model.fromGltfAsync({\r\n          url: this.path + \"SampleData/models/Bee/Bee.glb\",\r\n          scale: 100000,\r\n          modelMatrix: Cesium.Transforms.headingPitchRollToFixedFrame(\r\n            position,\r\n            headingPositionRoll,\r\n            Cesium.Ellipsoid.WGS84,\r\n            fixedFrameTransform\r\n          ),\r\n          minimumPixelSize: 128,\r\n        });\r\n        viewer.scene.primitives.add(model);\r\n      } catch (error) {\r\n        console.log(`Failed to load model. ${error}`);\r\n      }\r\n\r\n      let angle = 0.0\r\n      viewer.camera.lookAt(position, new Cesium.HeadingPitchRange(Cesium.Math.toRadians(angle), Cesium.Math.toRadians(-30), 2000))\r\n      viewer.clock.onTick.addEventListener(() => {\r\n        angle += 0.5 * viewer.clock.multiplier;\r\n        const heading = Cesium.Math.toRadians(angle)\r\n        const pitch = viewer.camera.pitch\r\n        viewer.camera.lookAt(position, new Cesium.HeadingPitchRange(heading, pitch, 2000))\r\n      });\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#cesiumContainer {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./rotate_arround.vue?vue&type=template&id=7e375b8a&scoped=true\"\nimport script from \"./rotate_arround.vue?vue&type=script&lang=js\"\nexport * from \"./rotate_arround.vue?vue&type=script&lang=js\"\n\nimport \"./rotate_arround.vue?vue&type=style&index=0&id=7e375b8a&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Documents\\\\GitHub\\\\webgis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e375b8a\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","data","path","process","mounted","this","init","methods","async","viewer","Cesium","animation","timeline","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","debugShowFramesPerSecond","position","headingPositionRoll","fixedFrameTransform","model","url","scale","modelMatrix","minimumPixelSize","primitives","add","error","console","log","angle","camera","lookAt","clock","onTick","addEventListener","multiplier","heading","pitch","__exports__","render"],"sourceRoot":""}