{"version":3,"file":"js/802.8fcc35c2.js","mappings":"qOACOA,GAAG,mB,UACNC,EAAAA,EAAAA,GAAuB,OAAlBD,GAAG,UAAQ,W,GAAhBE,G,0CADFC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,E,qFAMR,GACEC,UACEC,KAAKC,MACP,EACAC,QAAS,CACPD,OACE,MAAME,EAAS,IAAIC,EAAAA,EAAc,mBAC7BA,EAAAA,EAAAA,oCAEFD,EAAOE,gBAAkBC,OAAOC,kBAElCJ,EAAOK,MAAMC,kBAAkBC,KAAKC,SAAU,EAE9CX,KAAKY,MAAMT,GAEX,MAAMU,EAAST,EAAAA,EAAAA,YAA8B,OAAQ,MACrDD,EAAOW,OAAOC,OAAOF,EAAQ,IAAIT,EAAAA,EAAkB,GAAM,IAAQ,MACjED,EAAOW,OAAOE,gBAAgBZ,EAAAA,EAAAA,SAChC,EAIAQ,MAAO,SAAUT,GACf,MAAMc,EAAed,EAAOe,cAAcC,mBACxC,IAAIf,EAAAA,EAAoC,CACtCgB,IAAK,uCAGTH,EAAaI,eAAiBjB,EAAAA,EAAAA,MAG9B,MAAMkB,EAASC,SAASC,eAAe,UACvCrB,EAAOK,MAAMiB,cACXH,EAAOI,WAAaJ,EAAOK,cAAcC,YAE3C,MAAMC,EAAU,IAAIzB,EAAAA,EAA+BkB,GAEnD,IAAIQ,GAAa,EAEjB,SAASC,EAAKC,GACZ,IAAKF,EACH,OAGF,MAAMG,EAAiBD,EAASE,YAAYC,EACtCV,GACHH,EAAOI,WAAaO,GACrBX,EAAOK,cAAcC,YACvBN,EAAOc,MAAMC,KAAU,IAAQZ,EAAV,IACrBtB,EAAOK,MAAMiB,cAAgBA,CAC/B,CAEAI,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,WACHyB,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,aAEHyB,EAAQS,eAAeP,EAAM3B,EAAAA,EAAAA,YAC7ByB,EAAQS,eAAeP,EAAM3B,EAAAA,EAAAA,YAE7ByB,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,SACHyB,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,UACL,I,QCtEJ,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/layers_split.vue","webpack://webgis/./src/components/public/layers_split.vue?65b6"],"sourcesContent":["<template>\r\n  <div id=\"cesiumContainer\">\r\n    <div id=\"slider\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\r\nimport * as Cesium from 'cesium'\r\nexport default {\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      const viewer = new Cesium.Viewer('cesiumContainer')\r\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\r\n        //判断是否支持图像渲染像素化处理\r\n        viewer.resolutionScale = window.devicePixelRatio\r\n      }\r\n      viewer.scene.postProcessStages.fxaa.enabled = true\r\n      // 开启分屏\r\n      this.split(viewer)\r\n      // 设置相机位置\r\n      const center = Cesium.Cartesian3.fromDegrees(116.38, 39.9);\r\n      viewer.camera.lookAt(center, new Cesium.Cartesian3(0.0, -1000.0, 3000.0));\r\n      viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\r\n    },\r\n    /**\r\n    * @param {Cesium.Viewer} viewer 控制点\r\n    */\r\n    split: function (viewer) {\r\n      const earthAtNight = viewer.imageryLayers.addImageryProvider(\r\n        new Cesium.OpenStreetMapImageryProvider({\r\n          url: 'https://a.tile.openstreetmap.org/'\r\n        })\r\n      );\r\n      earthAtNight.splitDirection = Cesium.SplitDirection.RIGHT; // Only show to the left of the slider.\r\n\r\n      // Sync the position of the slider with the split position\r\n      const slider = document.getElementById(\"slider\");\r\n      viewer.scene.splitPosition =\r\n        slider.offsetLeft / slider.parentElement.offsetWidth;\r\n\r\n      const handler = new Cesium.ScreenSpaceEventHandler(slider);\r\n\r\n      let moveActive = false;\r\n\r\n      function move(movement) {\r\n        if (!moveActive) {\r\n          return;\r\n        }\r\n\r\n        const relativeOffset = movement.endPosition.x;\r\n        const splitPosition =\r\n          (slider.offsetLeft + relativeOffset) /\r\n          slider.parentElement.offsetWidth;\r\n        slider.style.left = `${100.0 * splitPosition}%`;\r\n        viewer.scene.splitPosition = splitPosition;\r\n      }\r\n\r\n      handler.setInputAction(function () {\r\n        moveActive = true;\r\n      }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\r\n      handler.setInputAction(function () {\r\n        moveActive = true;\r\n      }, Cesium.ScreenSpaceEventType.PINCH_START);\r\n\r\n      handler.setInputAction(move, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\r\n      handler.setInputAction(move, Cesium.ScreenSpaceEventType.PINCH_MOVE);\r\n\r\n      handler.setInputAction(function () {\r\n        moveActive = false;\r\n      }, Cesium.ScreenSpaceEventType.LEFT_UP);\r\n      handler.setInputAction(function () {\r\n        moveActive = false;\r\n      }, Cesium.ScreenSpaceEventType.PINCH_END);\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#cesiumContainer {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n#slider {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 0px;\r\n  background-color: #d3d3d3;\r\n  width: 5px;\r\n  height: 100%;\r\n  z-index: 9999;\r\n}\r\n\r\n#slider:hover {\r\n  cursor: ew-resize;\r\n}\r\n</style>\r\n","import { render } from \"./layers_split.vue?vue&type=template&id=6967ab52&scoped=true\"\nimport script from \"./layers_split.vue?vue&type=script&lang=js\"\nexport * from \"./layers_split.vue?vue&type=script&lang=js\"\n\nimport \"./layers_split.vue?vue&type=style&index=0&id=6967ab52&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Documents\\\\GitHub\\\\Z-Personal\\\\webgis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6967ab52\"]])\n\nexport default __exports__"],"names":["id","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","mounted","this","init","methods","viewer","Cesium","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","split","center","camera","lookAt","lookAtTransform","earthAtNight","imageryLayers","addImageryProvider","url","splitDirection","slider","document","getElementById","splitPosition","offsetLeft","parentElement","offsetWidth","handler","moveActive","move","movement","relativeOffset","endPosition","x","style","left","setInputAction","__exports__","render"],"sourceRoot":""}