{"version":3,"file":"js/562.e391c188.js","mappings":"iLACOA,GAAG,mB,0CAARC,EAAAA,EAAAA,IAAgC,MAAhCC,E,0JAOF,GACEC,UACEC,KAAKC,MACP,EACAC,QAAS,CACPD,OACE,MAAME,EAAS,IAAIC,EAAAA,EAAc,kBAAmB,CAAEC,gBAAiBD,EAAAA,MACnEA,EAAAA,EAAAA,oCAEFD,EAAOG,gBAAkBC,OAAOC,kBAElCL,EAAOM,MAAMC,kBAAkBC,KAAKC,SAAU,EAC9CT,EAAOM,MAAMI,0BAA2B,EAGxC,MAAMC,GAASC,EAAAA,EAAAA,KAAY,IAAK,CAAEC,KAAM,CAAC,IAAK,GAAI,IAAK,MAEjDC,EAAY,GAClB,IAAK,IAAIC,KAASJ,EAAOK,SAAU,CACjC,MAAMC,EAAcF,EAAMG,SAASD,YAC7BE,EAAWlB,EAAAA,EAAAA,YAAgCgB,EAAY,GAAIA,EAAY,IAC7EH,EAAUM,KAAKD,EACjB,CAEA,MAAME,EAAa,IAAIpB,EAAAA,EACjBqB,EAAa,IAAIrB,EAAAA,EACjBC,EAAkBF,EAAOE,gBACzBqB,EAAUtB,EAAAA,EAAiCC,EAAiBY,GAClEU,QAAQC,QAAQF,GAASG,MAAK,SAAUC,GACtC,IAAK,IAAIR,KAAYQ,EACnBL,EAAWM,IAAI,CACbT,SAAUlB,EAAAA,EAAAA,YAA8BkB,EAASU,UAAWV,EAASW,SAAUX,EAASY,QACxFC,MAAOX,EAAWY,UAAUhC,EAAAA,EAAAA,WAAwB,CAAEiC,MAAO,IAAQ,IAAIC,YACzEC,eAAgBnC,EAAAA,EAAAA,OAChBoC,iBAAkBpC,EAAAA,EAAAA,SAGtBD,EAAOM,MAAMgC,WAAWV,IAAIN,EAC9B,IAEA,MAAMiB,EAAStC,EAAAA,EAAAA,YAA8B,IAAK,IAClDD,EAAOwC,OAAOC,OAAOF,EAAQ,IAAItC,EAAAA,EAAkB,GAAM,IAAS,OAClED,EAAOwC,OAAOE,gBAAgBzC,EAAAA,EAAAA,SAChC,I,WC5CJ,MAAM0C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/ground_point.vue","webpack://webgis/./src/components/public/ground_point.vue?913b"],"sourcesContent":["<template>\r\n  <div id=\"cesiumContainer\"></div>\r\n</template>\r\n\r\n<script>\r\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\r\nimport * as Cesium from 'cesium'\r\nimport { randomPoint } from '@turf/turf'\r\nexport default {\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      const viewer = new Cesium.Viewer('cesiumContainer', { terrainProvider: Cesium.createWorldTerrain() })\r\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\r\n        //判断是否支持图像渲染像素化处理\r\n        viewer.resolutionScale = window.devicePixelRatio\r\n      }\r\n      viewer.scene.postProcessStages.fxaa.enabled = true\r\n      viewer.scene.debugShowFramesPerSecond = true // 显示帧率\r\n\r\n      // 1、生成大量随机点\r\n      const points = randomPoint(500, { bbox: [100, 25, 102, 27] })\r\n      // 2、Cartographic数组\r\n      const positions = []\r\n      for (let point of points.features) {\r\n        const coordinates = point.geometry.coordinates\r\n        const position = Cesium.Cartographic.fromDegrees(coordinates[0], coordinates[1])\r\n        positions.push(position)\r\n      }\r\n      // 3、高程采样\r\n      const pinBuilder = new Cesium.PinBuilder();\r\n      const collection = new Cesium.BillboardCollection()\r\n      const terrainProvider = viewer.terrainProvider\r\n      const promise = Cesium.sampleTerrainMostDetailed(terrainProvider, positions);\r\n      Promise.resolve(promise).then(function (updatedPositions) {\r\n        for (let position of updatedPositions) {\r\n          collection.add({\r\n            position: Cesium.Cartesian3.fromRadians(position.longitude, position.latitude, position.height),\r\n            image: pinBuilder.fromColor(Cesium.Color.fromRandom({ alpha: 1.0 }), 20).toDataURL(),\r\n            verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n            horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\r\n          })\r\n        }\r\n        viewer.scene.primitives.add(collection)\r\n      });\r\n\r\n      const center = Cesium.Cartesian3.fromDegrees(101, 26);\r\n      viewer.camera.lookAt(center, new Cesium.Cartesian3(0.0, -10000.0, 3930.0));\r\n      viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#cesiumContainer {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./ground_point.vue?vue&type=template&id=4827edce&scoped=true\"\nimport script from \"./ground_point.vue?vue&type=script&lang=js\"\nexport * from \"./ground_point.vue?vue&type=script&lang=js\"\n\nimport \"./ground_point.vue?vue&type=style&index=0&id=4827edce&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Documents\\\\GitHub\\\\webgis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4827edce\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","mounted","this","init","methods","viewer","Cesium","terrainProvider","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","debugShowFramesPerSecond","points","randomPoint","bbox","positions","point","features","coordinates","geometry","position","push","pinBuilder","collection","promise","Promise","resolve","then","updatedPositions","add","longitude","latitude","height","image","fromColor","alpha","toDataURL","verticalOrigin","horizontalOrigin","primitives","center","camera","lookAt","lookAtTransform","__exports__","render"],"sourceRoot":""}