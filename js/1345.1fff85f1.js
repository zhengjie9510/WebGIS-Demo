"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[1345],{51345:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var o=n(73396);const r={id:"cesiumContainer"};function a(e,t,n,a,i,s){return(0,o.wg)(),(0,o.iD)("div",r)}var i=n(89262),s=n(9007),c=n(40985),m=n(92119),l=n(82104),u=n(99500),p=n(5360),d=n(90210),v=n(49721),_=n(51625),f="in vec3 v_positionMC;\nin vec3 v_positionEC;\nin vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    // Convert tangent space material normal to eye space\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n    // Convert view vector to world space\n    vec3 positionToEyeEC = -v_positionEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n",g="in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec2 st;\nin float batchId;\n\nout vec3 v_positionMC;\nout vec3 v_positionEC;\nout vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionMC = position3DHigh + position3DLow;           // position in model coordinates\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;     // position in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n",h=n(61562),C=n(38511);function E(e){e=(0,v.Z)(e,v.Z.EMPTY_OBJECT);const t=(0,v.Z)(e.translucent,!0),n=(0,v.Z)(e.aboveGround,!1);this.material=(0,_.Z)(e.material)?e.material:C.Z.fromType(C.Z.ColorType),this.translucent=(0,v.Z)(e.translucent,!0),this._vertexShaderSource=(0,v.Z)(e.vertexShaderSource,g),this._fragmentShaderSource=(0,v.Z)(e.fragmentShaderSource,f),this._renderState=h.Z.getDefaultRenderState(t,!n,e.renderState),this._closed=!1,this._flat=(0,v.Z)(e.flat,!1),this._faceForward=(0,v.Z)(e.faceForward,n),this._aboveGround=n}Object.defineProperties(E.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return E.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),E.VERTEX_FORMAT=d.Z.POSITION_AND_ST,E.prototype.getFragmentShaderSource=h.Z.prototype.getFragmentShaderSource,E.prototype.isTranslucent=h.Z.prototype.isTranslucent,E.prototype.getRenderState=h.Z.prototype.getRenderState;var S=E,Z=n(33350),w=n(46019),T=n(40617),y=n(121),I={mounted(){this.init()},methods:{init(){var e=new i.Z("cesiumContainer",{terrainProvider:s.Z()});c.Z.supportsImageRenderingPixelated()&&(e.resolutionScale=window.devicePixelRatio),e.scene.postProcessStages.fxaa.enabled=!0,e.scene.primitives.add(new m.Z({geometryInstances:new l.Z({geometry:new u.Z({rectangle:p.Z.fromDegrees(103.3,29.25,103.45,29.35),height:530,vertexFormat:d.Z.DEFAULT})}),appearance:new S({material:new C.Z({fabric:{type:"Water",uniforms:{baseWaterColor:new Z.Z(64/255,157/255,200/255,.5),normalMap:w.Z("Assets/Textures/waterNormals.jpg"),frequency:1e3,animationSpeed:.1,amplitude:10,specularIntensity:10}}})})}));const t=T.Z.fromDegrees(103.37,29.15);e.camera.lookAt(t,new T.Z(0,-47900,39300)),e.camera.lookAtTransform(y.Z.IDENTITY)}}},F=n(40089);const z=(0,F.Z)(I,[["render",a],["__scopeId","data-v-064781c6"]]);var D=z}}]);
//# sourceMappingURL=1345.1fff85f1.js.map