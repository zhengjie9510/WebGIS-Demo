{"version":3,"file":"js/6970.f151ab84.js","mappings":"kLACOA,GAAG,mB,0CAARC,EAAAA,EAAAA,IAAgC,MAAhCC,E,wGAMF,GACEC,OACE,MAAO,CACLC,KAAMC,gBAEV,EACAC,UACEC,KAAKC,MACP,EACAC,QAAS,CACPC,aACE,MAAMC,EAAS,IAAIC,EAAAA,EAAc,kBAAmB,CAElDC,WAAW,EACXC,UAAU,IAERF,EAAAA,EAAAA,oCAEFD,EAAOI,gBAAkBC,OAAOC,kBAElCN,EAAOO,MAAMC,kBAAkBC,KAAKC,SAAU,EAC9CV,EAAOO,MAAMI,0BAA2B,EAGxC,MAAMC,EAAWX,EAAAA,EAAAA,YACf,OAAQ,MAAO,KAEXY,EAAsB,IAAIZ,EAAAA,EAC1Ba,EAAsBb,EAAAA,EAAAA,gCAC1B,QACA,QAEF,IACE,MAAMc,QAAcd,EAAAA,EAAAA,cAA2B,CAC7Ce,IAAKpB,KAAKH,KAAO,gCACjBwB,MAAO,IACPC,YAAajB,EAAAA,EAAAA,6BACXW,EACAC,EACAZ,EAAAA,EAAAA,MACAa,GAEFK,iBAAkB,MAEpBnB,EAAOO,MAAMa,WAAWC,IAAIN,EAG9B,CAFE,MAAOO,GACPC,QAAQC,IAAK,yBAAwBF,IACvC,CAEA,IAAIG,EAAQ,EACZzB,EAAO0B,OAAOC,OAAOf,EAAU,IAAIX,EAAAA,EAAyBA,EAAAA,EAAAA,UAAsBwB,GAAQxB,EAAAA,EAAAA,WAAuB,IAAK,MACtHD,EAAO4B,MAAMC,OAAOC,kBAAiB,KACnCL,GAAS,GAAMzB,EAAO4B,MAAMG,WAC5B,MAAMC,EAAU/B,EAAAA,EAAAA,UAAsBwB,GAChCQ,EAAQjC,EAAO0B,OAAOO,MAC5BjC,EAAO0B,OAAOC,OAAOf,EAAU,IAAIX,EAAAA,EAAyB+B,EAASC,EAAO,KAAM,GAEtF,I,WCzDJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/rotate_arround.vue","webpack://webgis/./src/components/public/rotate_arround.vue?2cf0"],"sourcesContent":["<template>\n  <div id=\"cesiumContainer\"></div>\n</template>\n\n<script>\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\nimport * as Cesium from 'cesium'\nexport default {\n  data() {\n    return {\n      path: process.env.BASE_URL\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  methods: {\n    async init() {\n      const viewer = new Cesium.Viewer('cesiumContainer', {\n        // terrainProvider: await Cesium.createWorldTerrainAsync(),\n        animation: false,\n        timeline: false,\n      })\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\n        //判断是否支持图像渲染像素化处理\n        viewer.resolutionScale = window.devicePixelRatio\n      }\n      viewer.scene.postProcessStages.fxaa.enabled = true\n      viewer.scene.debugShowFramesPerSecond = true // 显示帧率\n\n      // Position a model with modelMatrix and display it with a minimum size of 128 pixels\n      const position = Cesium.Cartesian3.fromDegrees(\n        114.46, 34.92, 100\n      );\n      const headingPositionRoll = new Cesium.HeadingPitchRoll();\n      const fixedFrameTransform = Cesium.Transforms.localFrameToFixedFrameGenerator(\n        \"north\",\n        \"west\"\n      );\n      try {\n        const model = await Cesium.Model.fromGltfAsync({\n          url: this.path + \"SampleData/models/Bee/Bee.glb\",\n          scale: 100000,\n          modelMatrix: Cesium.Transforms.headingPitchRollToFixedFrame(\n            position,\n            headingPositionRoll,\n            Cesium.Ellipsoid.WGS84,\n            fixedFrameTransform\n          ),\n          minimumPixelSize: 128,\n        });\n        viewer.scene.primitives.add(model);\n      } catch (error) {\n        console.log(`Failed to load model. ${error}`);\n      }\n\n      let angle = 0.0\n      viewer.camera.lookAt(position, new Cesium.HeadingPitchRange(Cesium.Math.toRadians(angle), Cesium.Math.toRadians(-30), 2000))\n      viewer.clock.onTick.addEventListener(() => {\n        angle += 0.5 * viewer.clock.multiplier;\n        const heading = Cesium.Math.toRadians(angle)\n        const pitch = viewer.camera.pitch\n        viewer.camera.lookAt(position, new Cesium.HeadingPitchRange(heading, pitch, 2000))\n      });\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#cesiumContainer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import { render } from \"./rotate_arround.vue?vue&type=template&id=7e375b8a&scoped=true\"\nimport script from \"./rotate_arround.vue?vue&type=script&lang=js\"\nexport * from \"./rotate_arround.vue?vue&type=script&lang=js\"\n\nimport \"./rotate_arround.vue?vue&type=style&index=0&id=7e375b8a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zhengjie/Documents/webgis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e375b8a\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","data","path","process","mounted","this","init","methods","async","viewer","Cesium","animation","timeline","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","debugShowFramesPerSecond","position","headingPositionRoll","fixedFrameTransform","model","url","scale","modelMatrix","minimumPixelSize","primitives","add","error","console","log","angle","camera","lookAt","clock","onTick","addEventListener","multiplier","heading","pitch","__exports__","render"],"sourceRoot":""}