{"version":3,"file":"js/3619.2e9b37be.js","mappings":"wOACOA,MAAM,a,UAAYC,EAAAA,EAAAA,GAAwB,UAAhBC,GAAG,KAAG,W,GAAdC,G,0CAAvBC,EAAAA,EAAAA,IAAqD,MAArDC,EAAqD,E,2BAMvD,GACEC,UACEC,KAAKC,MACP,EACAC,QAAS,CACPD,OACE,MAAME,EAASC,SAASC,cAAc,MAChCC,EAAS,IAAIC,EAAAA,IAEbC,EAAQ,IAAID,EAAAA,IACZE,EAAS,IAAIF,EAAAA,IAAwB,GAAIJ,EAAOO,YAAcP,EAAOQ,aAAc,GAAK,KAC9FF,EAAOG,SAASC,EAAI,EACpBL,EAAMM,IAAIL,GAEV,MAAMM,EAAW,IAAIR,EAAAA,IAAoB,CAAEJ,OAAQA,EAAQa,WAAW,IACtED,EAASE,QAAQd,EAAOe,WAAYf,EAAOgB,aAC3CJ,EAASK,cAAcC,OAAOC,kBAE9B,MAAMC,EAAW,IAAIC,EAAAA,EAAcf,EAAQM,EAASU,YAG9CC,EAAe,IAAInB,EAAAA,IAAmB,SAAU,IACtDC,EAAMM,IAAIY,GAEV,MAAMC,EAAe,IAAIpB,EAAAA,IAAiB,SAAU,IAEpDoB,EAAaf,SAASgB,IAAI,EAAG,EAAG,IAChCpB,EAAMM,IAAIa,GAEV,MAAME,EAAW,IAAItB,EAAAA,IAAoB,EAAG,GACtCuB,EAAW,IAAIvB,EAAAA,IAAwB,CAC3CwB,IAAKzB,EAAO0B,KAAK,8BACjBC,UAAW3B,EAAO0B,KAAK,qCACvBE,KAAM3B,EAAAA,MAEF4B,EAAO,IAAI5B,EAAAA,IAAWsB,EAAUC,GAItC,SAASM,IACP,GAAIC,EAA4BtB,GAAW,CACzC,MAAMZ,EAASY,EAASU,WACxBhB,EAAO6B,OAASnC,EAAOO,YAAcP,EAAOQ,aAC5CF,EAAO8B,wBACT,CAEAJ,EAAKK,QAAQ,KACbjB,EAASkB,SACT1B,EAAS2B,OAAOlC,EAAOC,GACvBkC,sBAAsBP,EACxB,CAEA,SAASC,EAA4BtB,GACnC,MAAMZ,EAASY,EAASU,WAClBmB,EAAQzC,EAAOO,YACfmC,EAAS1C,EAAOQ,aAChBmC,EAAa3C,EAAOyC,QAAUA,GAASzC,EAAO0C,SAAWA,EAI/D,OAHIC,GACF/B,EAASE,QAAQ2B,EAAOC,GAAQ,GAE3BC,CACT,CAzBAtC,EAAMM,IAAIqB,GAEVC,GAwBF,I,WC9DJ,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASL,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/three/normal_mapping.vue","webpack://webgis/./src/components/three/normal_mapping.vue?e7ca"],"sourcesContent":["<template>\n  <div class=\"container\"><canvas id=\"c\"></canvas></div>\n</template>\n<script>\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nexport default {\n  mounted() {\n    this.init()\n  },\n  methods: {\n    init() {\n      const canvas = document.querySelector('#c')\n      const loader = new THREE.TextureLoader()\n\n      const scene = new THREE.Scene()\n      const camera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000)\n      camera.position.z = 5\n      scene.add(camera)\n\n      const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });\n      renderer.setSize(canvas.innerWidth, canvas.innerHeight)\n      renderer.setPixelRatio(window.devicePixelRatio)\n\n      const controls = new OrbitControls(camera, renderer.domElement);\n\n      // set ambientlight\n      const ambientlight = new THREE.AmbientLight(0xffffff, 0.2);\n      scene.add(ambientlight);\n      // set point light\n      const pointerlight = new THREE.PointLight(0xffffff, 0.9);\n      // set light position\n      pointerlight.position.set(5, 3, 10);\n      scene.add(pointerlight);\n\n      const geometry = new THREE.PlaneGeometry(2, 2);\n      const material = new THREE.MeshPhongMaterial({\n        map: loader.load('./SampleData/brickwall.jpg'),\n        normalMap: loader.load('./SampleData/brickwall_normal.jpg'),\n        side: THREE.DoubleSide\n      });\n      const mesh = new THREE.Mesh(geometry, material);\n      scene.add(mesh);\n\n      animate();\n      function animate() {\n        if (resizeRendererToDisplaySize(renderer)) {\n          const canvas = renderer.domElement\n          camera.aspect = canvas.clientWidth / canvas.clientHeight\n          camera.updateProjectionMatrix()\n        }\n\n        mesh.rotateY(0.01)\n        controls.update();\n        renderer.render(scene, camera);\n        requestAnimationFrame(animate);\n      }\n\n      function resizeRendererToDisplaySize(renderer) {\n        const canvas = renderer.domElement\n        const width = canvas.clientWidth\n        const height = canvas.clientHeight\n        const needResize = canvas.width !== width || canvas.height !== height\n        if (needResize) {\n          renderer.setSize(width, height, false)\n        }\n        return needResize\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n\n#c {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  margin: 0%;\n}\n</style>\n","import { render } from \"./normal_mapping.vue?vue&type=template&id=72a76e1e&scoped=true\"\nimport script from \"./normal_mapping.vue?vue&type=script&lang=js\"\nexport * from \"./normal_mapping.vue?vue&type=script&lang=js\"\n\nimport \"./normal_mapping.vue?vue&type=style&index=0&id=72a76e1e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zhengjie/Documents/webgis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-72a76e1e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","_hoisted_2","_createElementBlock","_hoisted_1","mounted","this","init","methods","canvas","document","querySelector","loader","THREE","scene","camera","clientWidth","clientHeight","position","z","add","renderer","antialias","setSize","innerWidth","innerHeight","setPixelRatio","window","devicePixelRatio","controls","OrbitControls","domElement","ambientlight","pointerlight","set","geometry","material","map","load","normalMap","side","mesh","animate","resizeRendererToDisplaySize","aspect","updateProjectionMatrix","rotateY","update","render","requestAnimationFrame","width","height","needResize","__exports__"],"sourceRoot":""}