"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[708],{35708:function(e,i,t){t.r(i),t.d(i,{default:function(){return P}});var n=t(73396);const s={id:"cesiumContainer"};function a(e,i,t,a,o,c){return(0,n.wg)(),(0,n.iD)("div",s)}var o=t(51119),c=t(28807),r=t(51625),d=t(74683),h=t(40617),l=t(69530),u=t(31724),p=t(33350),v=t(52734),g=t(40985);class w{constructor(e){this.layer=new o.Z("MyCircles"),this.center=void 0,this.radius=void 0,this.activeShape=void 0,this.handler=void 0}bindAction(e){this.handler||(this.handler=new c.Z(e.scene.canvas)),this.handler.setInputAction((i=>{const t=this.getPosition(e,i.position);if(r.Z(t)&&0===this.activeShapePoints.length){this.center=t;const e=new d.Z((()=>h.Z.distance(this.center,t)),!1);this.activeShape=this.drawCircle(this.center,e)}}),l.Z.LEFT_CLICK),this.handler.setInputAction((i=>{if(this.activeShapePoints.length>=2){const t=this.getPosition(e,i.endPosition);r.Z(t)&&console.log("haha")}}),l.Z.MOUSE_MOVE),this.handler.setInputAction((e=>{}),l.Z.RIGHT_CLICK)}getPosition(e,i){let t;if(e.terrainProvider instanceof u.Z)t=e.scene.camera.pickEllipsoid(i);else{const n=e.camera.getPickRay(i);t=e.scene.globe.pick(n,e.scene)}return t}drawCircle(e,i){return this.layer.entities.add({position:h.Z.fromDegrees(-103,40),ellipse:{semiMinorAxis:25e4,semiMajorAxis:4e5,material:p.Z.RED.withAlpha(.5)}})}addToMap(e){e.dataSources.add(this.layer)}}var Z={mounted(){this.init()},methods:{init(){const e=new v.Z("cesiumContainer");g.Z.supportsImageRenderingPixelated()&&(e.resolutionScale=window.devicePixelRatio),e.scene.postProcessStages.fxaa.enabled=!0,e.scene.debugShowFramesPerSecond=!0;const i=new w;i.bindAction(e),i.addToMap(e)}}},f=t(40089);const m=(0,f.Z)(Z,[["render",a],["__scopeId","data-v-c1b32e98"]]);var P=m}}]);
//# sourceMappingURL=708.4e0a3892.js.map