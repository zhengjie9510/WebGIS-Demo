"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[1345],{51345:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(73396);const o={id:"cesiumContainer"};function a(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",o)}var i=n(86675),s=n(57554),c=n(40985),u=n(92119),l=n(82104),m=n(99500),d=n(5360),p=n(90210),v=n(49721),_=n(51625),f="in vec3 v_positionMC;\nin vec3 v_positionEC;\nin vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    // Convert tangent space material normal to eye space\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n    // Convert view vector to world space\n    vec3 positionToEyeEC = -v_positionEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n",g="in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec2 st;\nin float batchId;\n\nout vec3 v_positionMC;\nout vec3 v_positionEC;\nout vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionMC = position3DHigh + position3DLow;           // position in model coordinates\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;     // position in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n",Z=n(61562),h=n(38511);function C(e){e=(0,v.Z)(e,v.Z.EMPTY_OBJECT);const t=(0,v.Z)(e.translucent,!0),n=(0,v.Z)(e.aboveGround,!1);this.material=(0,_.Z)(e.material)?e.material:h.Z.fromType(h.Z.ColorType),this.translucent=(0,v.Z)(e.translucent,!0),this._vertexShaderSource=(0,v.Z)(e.vertexShaderSource,g),this._fragmentShaderSource=(0,v.Z)(e.fragmentShaderSource,f),this._renderState=Z.Z.getDefaultRenderState(t,!n,e.renderState),this._closed=!1,this._flat=(0,v.Z)(e.flat,!1),this._faceForward=(0,v.Z)(e.faceForward,n),this._aboveGround=n}Object.defineProperties(C.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return C.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),C.VERTEX_FORMAT=p.Z.POSITION_AND_ST,C.prototype.getFragmentShaderSource=Z.Z.prototype.getFragmentShaderSource,C.prototype.isTranslucent=Z.Z.prototype.isTranslucent,C.prototype.getRenderState=Z.Z.prototype.getRenderState;var E=C,S=n(33350),T=n(46019),w=n(40617),y=n(121),I={mounted(){this.init()},methods:{init(){var e=new i.Z("cesiumContainer",{terrainProvider:s.Z()});c.Z.supportsImageRenderingPixelated()&&(e.resolutionScale=window.devicePixelRatio),e.scene.postProcessStages.fxaa.enabled=!0,e.scene.primitives.add(new u.Z({geometryInstances:new l.Z({geometry:new m.Z({rectangle:d.Z.fromDegrees(103.3,29.25,103.45,29.35),height:530,vertexFormat:p.Z.DEFAULT})}),appearance:new E({material:new h.Z({fabric:{type:"Water",uniforms:{baseWaterColor:new S.Z(64/255,157/255,200/255,.5),normalMap:T.Z("Assets/Textures/waterNormals.jpg"),frequency:1e3,animationSpeed:.1,amplitude:10,specularIntensity:10}}})})}));const t=w.Z.fromDegrees(103.37,29.15);e.camera.lookAt(t,new w.Z(0,-47900,39300)),e.camera.lookAtTransform(y.Z.IDENTITY)}}},x=n(40089);const F=(0,x.Z)(I,[["render",a],["__scopeId","data-v-064781c6"]]);var M=F},57554:function(e,t,n){var r=n(57103),o=n(49721),a=n(73237),i=n(9241);function s(e){(0,a.Z)("createWorldTerrain","createWorldTerrain was deprecated in CesiumJS 1.104.  It will be in CesiumJS 1.107.  Use createWorldTerrainAsync instead."),e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);const t=new r.Z({requestVertexNormals:(0,o.Z)(e.requestVertexNormals,!1),requestWaterMask:(0,o.Z)(e.requestWaterMask,!1)});return t._readyPromise=r.Z._initializeReadyPromise({url:i.Z.fromAssetId(1),requestVertexNormals:(0,o.Z)(e.requestVertexNormals,!1),requestWaterMask:(0,o.Z)(e.requestWaterMask,!1)},t),t}t["Z"]=s}}]);
//# sourceMappingURL=1345.b5bdbdf5.js.map