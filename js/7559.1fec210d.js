"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[7559],{27559:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});var l=t(73396);const n=e=>((0,l.dD)("data-v-705277f0"),e=e(),(0,l.Cn)(),e),i={class:"map"},d=n((()=>(0,l._)("div",{id:"cesiumContainer"},null,-1))),s={id:"toolbar"},o=n((()=>(0,l._)("span",null,"X (度)",-1))),u=n((()=>(0,l._)("span",null,"Y (度)",-1))),r=n((()=>(0,l._)("span",null,"Z (米)",-1)));function m(e,a,t,n,m,p){const c=(0,l.up)("el-input"),h=(0,l.up)("el-button"),w=(0,l.up)("el-row"),f=(0,l.up)("el-slider");return(0,l.wg)(),(0,l.iD)("div",i,[d,(0,l._)("div",s,[(0,l.Wm)(w,{justify:"space-between"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{modelValue:m.url,"onUpdate:modelValue":a[0]||(a[0]=e=>m.url=e),placeholder:"Please input",style:{width:"80%"},clearable:""},{prepend:(0,l.w5)((()=>[(0,l.Uk)("URL")])),_:1},8,["modelValue"]),(0,l.Wm)(h,{type:"primary",onClick:p.handleButtonClick},{default:(0,l.w5)((()=>[(0,l.Uk)("Upload")])),_:1},8,["onClick"])])),_:1}),o,(0,l.Wm)(f,{modelValue:m.data.x,"onUpdate:modelValue":a[1]||(a[1]=e=>m.data.x=e),min:-.1,max:.1,step:1e-5,"show-input":""},null,8,["modelValue","min","max","step"]),u,(0,l.Wm)(f,{modelValue:m.data.y,"onUpdate:modelValue":a[2]||(a[2]=e=>m.data.y=e),min:-.1,max:.1,step:1e-5,"show-input":""},null,8,["modelValue","min","max","step"]),r,(0,l.Wm)(f,{modelValue:m.data.z,"onUpdate:modelValue":a[3]||(a[3]=e=>m.data.z=e),min:-500,max:500,step:1,"show-input":""},null,8,["modelValue"])])])}var p=t(91478),c=t(48545),h=t(40985),w=t(24406),f=t(21155),g=t(30172),b=t(40617),v=t(121);let Z,x;var V={data(){return{path:"/webgis-demo/",data:{x:0,y:0,z:0,dir:0,p:0,r:0},url:""}},mounted(){this.init()},methods:{async init(){Z=new p.Z("cesiumContainer",{terrainProvider:await c.Z()}),h.Z.supportsImageRenderingPixelated()&&(Z.resolutionScale=window.devicePixelRatio),Z.scene.globe.depthTestAgainstTerrain=!0,Z.scene.postProcessStages.fxaa.enabled=!0,Z.scene.debugShowFramesPerSecond=!0,this.url=this.path+"SampleData/Cesium3DTiles/Tilesets/Tileset/tileset.json",x=await w.Z.fromUrl(this.url),Z.scene.primitives.add(x),Z.zoomTo(x,new f.Z(0,-.5,2*x.boundingSphere.radius))},adjust3DTiles(e,a){const t=g.Z.fromCartesian(e.boundingSphere.center),l=b.Z.fromRadians(t.longitude,t.latitude,t.height),n=b.Z.fromRadians(t.longitude+a.x*Math.PI/180,t.latitude+a.y*Math.PI/180,t.height+a.z),i=b.Z.subtract(n,l,new b.Z);e.modelMatrix=v.Z.fromTranslation(i)},async handleButtonClick(){Z.scene.primitives.removeAll(),x=await w.Z.fromUrl(this.url),Z.scene.primitives.add(x),Z.zoomTo(x,new f.Z(0,-.5,2*x.boundingSphere.radius))}},watch:{data:{handler(){this.adjust3DTiles(x,this.data)},deep:!0}}},C=t(40089);const k=(0,C.Z)(V,[["render",m],["__scopeId","data-v-705277f0"]]);var y=k}}]);
//# sourceMappingURL=7559.1fec210d.js.map