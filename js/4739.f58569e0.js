"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[4739],{24739:function(t,i,n){n.r(i),n.d(i,{default:function(){return E}});var e=n(73396);const o={id:"cesiumContainer"};function s(t,i,n,s,r,l){return(0,e.wg)(),(0,e.iD)("div",o)}var r=n(91478),l=n(40985),h=n(24406),a=(n(57658),n(58232)),c=n(49721),u=n(51625),d=n(46816),_=n(23802),g=n(54899);function f(t,i){this._conditionsExpression=(0,a.Z)(t,!0),this._conditions=t.conditions,this._runtimeConditions=void 0,b(this,i)}function p(t,i){this.condition=t,this.expression=i}function b(t,i){const n=[],e=t._conditions;if(!(0,u.Z)(e))return;const o=e.length;for(let s=0;s<o;++s){const t=e[s],o=String(t[0]),r=String(t[1]);n.push(new p(new g.Z(o,i),new g.Z(r,i)))}t._runtimeConditions=n}Object.defineProperties(f.prototype,{conditionsExpression:{get:function(){return this._conditionsExpression}}}),f.prototype.evaluate=function(t,i){const n=this._runtimeConditions;if(!(0,u.Z)(n))return;const e=n.length;for(let o=0;o<e;++o){const e=n[o];if(e.condition.evaluate(t))return e.expression.evaluate(t,i)}},f.prototype.evaluateColor=function(t,i){const n=this._runtimeConditions;if(!(0,u.Z)(n))return;const e=n.length;for(let o=0;o<e;++o){const e=n[o];if(e.condition.evaluate(t))return e.expression.evaluateColor(t,i)}},f.prototype.getShaderFunction=function(t,i,n,e){const o=this._runtimeConditions;if(!(0,u.Z)(o)||0===o.length)return;let s="";const r=o.length;for(let l=0;l<r;++l){const t=o[l],e=t.condition.getShaderExpression(i,n),r=t.expression.getShaderExpression(i,n);s+=`    ${0===l?"if":"else if"} (${e})\n    {\n        return ${r};\n    }\n`}return s=`${e} ${t}\n{\n${s}    return ${e}(1.0);\n}\n`,s},f.prototype.getVariables=function(){let t=[];const i=this._runtimeConditions;if(!(0,u.Z)(i)||0===i.length)return t;const n=i.length;for(let e=0;e<n;++e){const n=i[e];t.push.apply(t,n.condition.getVariables()),t.push.apply(t,n.expression.getVariables())}return t=t.filter((function(t,i,n){return n.indexOf(t)===i})),t};var y=f;function O(t){this._style={},this._ready=!1,this._show=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._labelColor=void 0,this._labelOutlineColor=void 0,this._labelOutlineWidth=void 0,this._font=void 0,this._labelStyle=void 0,this._labelText=void 0,this._backgroundColor=void 0,this._backgroundPadding=void 0,this._backgroundEnabled=void 0,this._scaleByDistance=void 0,this._translucencyByDistance=void 0,this._distanceDisplayCondition=void 0,this._heightOffset=void 0,this._anchorLineEnabled=void 0,this._anchorLineColor=void 0,this._image=void 0,this._disableDepthTestDistance=void 0,this._horizontalOrigin=void 0,this._verticalOrigin=void 0,this._labelHorizontalOrigin=void 0,this._labelVerticalOrigin=void 0,this._meta=void 0,this._colorShaderFunction=void 0,this._showShaderFunction=void 0,this._pointSizeShaderFunction=void 0,this._colorShaderFunctionReady=!1,this._showShaderFunctionReady=!1,this._pointSizeShaderFunctionReady=!1,this._colorShaderTranslucent=!1,S(this,t)}function S(t,i){i=(0,c.Z)((0,a.Z)(i,!0),t._style),t._style=i,t.show=i.show,t.color=i.color,t.pointSize=i.pointSize,t.pointOutlineColor=i.pointOutlineColor,t.pointOutlineWidth=i.pointOutlineWidth,t.labelColor=i.labelColor,t.labelOutlineColor=i.labelOutlineColor,t.labelOutlineWidth=i.labelOutlineWidth,t.labelStyle=i.labelStyle,t.font=i.font,t.labelText=i.labelText,t.backgroundColor=i.backgroundColor,t.backgroundPadding=i.backgroundPadding,t.backgroundEnabled=i.backgroundEnabled,t.scaleByDistance=i.scaleByDistance,t.translucencyByDistance=i.translucencyByDistance,t.distanceDisplayCondition=i.distanceDisplayCondition,t.heightOffset=i.heightOffset,t.anchorLineEnabled=i.anchorLineEnabled,t.anchorLineColor=i.anchorLineColor,t.image=i.image,t.disableDepthTestDistance=i.disableDepthTestDistance,t.horizontalOrigin=i.horizontalOrigin,t.verticalOrigin=i.verticalOrigin,t.labelHorizontalOrigin=i.labelHorizontalOrigin,t.labelVerticalOrigin=i.labelVerticalOrigin;const n={};if((0,u.Z)(i.meta)){const t=i.defines,e=(0,c.Z)(i.meta,c.Z.EMPTY_OBJECT);for(const i in e)e.hasOwnProperty(i)&&(n[i]=new g.Z(e[i],t))}t._meta=n,t._ready=!0}function C(t,i){const n=(0,c.Z)(t._style,c.Z.EMPTY_OBJECT).defines;if((0,u.Z)(i))return"boolean"===typeof i||"number"===typeof i?new g.Z(String(i)):"string"===typeof i?new g.Z(i,n):(0,u.Z)(i.conditions)?new y(i,n):i}function v(t){if((0,u.Z)(t))return(0,u.Z)(t.expression)?t.expression:(0,u.Z)(t.conditionsExpression)?(0,a.Z)(t.conditionsExpression,!0):t}Object.defineProperties(O.prototype,{style:{get:function(){return this._style}},show:{get:function(){return this._show},set:function(t){this._show=C(this,t),this._style.show=v(this._show),this._showShaderFunctionReady=!1}},color:{get:function(){return this._color},set:function(t){this._color=C(this,t),this._style.color=v(this._color),this._colorShaderFunctionReady=!1}},pointSize:{get:function(){return this._pointSize},set:function(t){this._pointSize=C(this,t),this._style.pointSize=v(this._pointSize),this._pointSizeShaderFunctionReady=!1}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(t){this._pointOutlineColor=C(this,t),this._style.pointOutlineColor=v(this._pointOutlineColor)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(t){this._pointOutlineWidth=C(this,t),this._style.pointOutlineWidth=v(this._pointOutlineWidth)}},labelColor:{get:function(){return this._labelColor},set:function(t){this._labelColor=C(this,t),this._style.labelColor=v(this._labelColor)}},labelOutlineColor:{get:function(){return this._labelOutlineColor},set:function(t){this._labelOutlineColor=C(this,t),this._style.labelOutlineColor=v(this._labelOutlineColor)}},labelOutlineWidth:{get:function(){return this._labelOutlineWidth},set:function(t){this._labelOutlineWidth=C(this,t),this._style.labelOutlineWidth=v(this._labelOutlineWidth)}},font:{get:function(){return this._font},set:function(t){this._font=C(this,t),this._style.font=v(this._font)}},labelStyle:{get:function(){return this._labelStyle},set:function(t){this._labelStyle=C(this,t),this._style.labelStyle=v(this._labelStyle)}},labelText:{get:function(){return this._labelText},set:function(t){this._labelText=C(this,t),this._style.labelText=v(this._labelText)}},backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=C(this,t),this._style.backgroundColor=v(this._backgroundColor)}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(t){this._backgroundPadding=C(this,t),this._style.backgroundPadding=v(this._backgroundPadding)}},backgroundEnabled:{get:function(){return this._backgroundEnabled},set:function(t){this._backgroundEnabled=C(this,t),this._style.backgroundEnabled=v(this._backgroundEnabled)}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(t){this._scaleByDistance=C(this,t),this._style.scaleByDistance=v(this._scaleByDistance)}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(t){this._translucencyByDistance=C(this,t),this._style.translucencyByDistance=v(this._translucencyByDistance)}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(t){this._distanceDisplayCondition=C(this,t),this._style.distanceDisplayCondition=v(this._distanceDisplayCondition)}},heightOffset:{get:function(){return this._heightOffset},set:function(t){this._heightOffset=C(this,t),this._style.heightOffset=v(this._heightOffset)}},anchorLineEnabled:{get:function(){return this._anchorLineEnabled},set:function(t){this._anchorLineEnabled=C(this,t),this._style.anchorLineEnabled=v(this._anchorLineEnabled)}},anchorLineColor:{get:function(){return this._anchorLineColor},set:function(t){this._anchorLineColor=C(this,t),this._style.anchorLineColor=v(this._anchorLineColor)}},image:{get:function(){return this._image},set:function(t){this._image=C(this,t),this._style.image=v(this._image)}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(t){this._disableDepthTestDistance=C(this,t),this._style.disableDepthTestDistance=v(this._disableDepthTestDistance)}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(t){this._horizontalOrigin=C(this,t),this._style.horizontalOrigin=v(this._horizontalOrigin)}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(t){this._verticalOrigin=C(this,t),this._style.verticalOrigin=v(this._verticalOrigin)}},labelHorizontalOrigin:{get:function(){return this._labelHorizontalOrigin},set:function(t){this._labelHorizontalOrigin=C(this,t),this._style.labelHorizontalOrigin=v(this._labelHorizontalOrigin)}},labelVerticalOrigin:{get:function(){return this._labelVerticalOrigin},set:function(t){this._labelVerticalOrigin=C(this,t),this._style.labelVerticalOrigin=v(this._labelVerticalOrigin)}},meta:{get:function(){return this._meta},set:function(t){this._meta=t}}}),O.fromUrl=function(t){if(!(0,u.Z)(t))throw new d.Z("url is required");const i=_.Z.createIfNeeded(t);return i.fetchJson(t).then((function(t){return new O(t)}))},O.prototype.getColorShaderFunction=function(t,i,n){return this._colorShaderFunctionReady?(n.translucent=this._colorShaderTranslucent,this._colorShaderFunction):(this._colorShaderFunctionReady=!0,(0,u.Z)(this.color)&&(0,u.Z)(this.color.getShaderFunction)?this._colorShaderFunction=this.color.getShaderFunction(t,i,n,"vec4"):this._colorShaderFunction=void 0,this._colorShaderTranslucent=n.translucent,this._colorShaderFunction)},O.prototype.getShowShaderFunction=function(t,i,n){return this._showShaderFunctionReady||(this._showShaderFunctionReady=!0,(0,u.Z)(this.show)&&(0,u.Z)(this.show.getShaderFunction)?this._showShaderFunction=this.show.getShaderFunction(t,i,n,"bool"):this._showShaderFunction=void 0),this._showShaderFunction},O.prototype.getPointSizeShaderFunction=function(t,i,n){return this._pointSizeShaderFunctionReady||(this._pointSizeShaderFunctionReady=!0,(0,u.Z)(this.pointSize)&&(0,u.Z)(this.pointSize.getShaderFunction)?this._pointSizeShaderFunction=this.pointSize.getShaderFunction(t,i,n,"float"):this._pointSizeShaderFunction=void 0),this._pointSizeShaderFunction},O.prototype.getVariables=function(){let t=[];return(0,u.Z)(this.color)&&(0,u.Z)(this.color.getVariables)&&t.push.apply(t,this.color.getVariables()),(0,u.Z)(this.show)&&(0,u.Z)(this.show.getVariables)&&t.push.apply(t,this.show.getVariables()),(0,u.Z)(this.pointSize)&&(0,u.Z)(this.pointSize.getVariables)&&t.push.apply(t,this.pointSize.getVariables()),t=t.filter((function(t,i,n){return n.indexOf(t)===i})),t};var w=O,Z=n(33350),D=n(28807),m=n(69530),z={data(){return{path:"/webgis-demo/"}},mounted(){this.init()},methods:{async init(){var t=new r.Z("cesiumContainer");l.Z.supportsImageRenderingPixelated()&&(t.resolutionScale=window.devicePixelRatio),t.scene.postProcessStages.fxaa.enabled=!0,t.scene.debugShowFramesPerSecond=!0;const i=await h.Z.fromUrl(this.path+"SampleData/Cesium3DTiles/Tilesets/Tileset/tileset.json");t.scene.primitives.add(i),i.style=new w({color:{conditions:[["${Height} >= 83","color('purple')"],["${Height} >= 80","color('red')"],["${Height} >= 70","color('orange')"],["${Height} >= 12","color('yellow')"],["${Height} >= 7","color('lime')"],["${Height} >= 1","color('DARKORANGE')"],["true","color('blue')"]]}}),t.zoomTo(i);const n={primitive:void 0,originalColor:new Z.Z},e=new D.Z(t.scene.canvas);e.setInputAction((i=>{const e=t.scene.pick(i.position);n.primitive&&(n.primitive.color=n.originColor,n.primitive=void 0,n.originColor=void 0),u.Z(e)&&(n.primitive=e,n.originColor=Z.Z.clone(e.color),e.color=Z.Z.CYAN)}),m.Z.LEFT_CLICK)}}},F=n(40089);const k=(0,F.Z)(z,[["render",s],["__scopeId","data-v-2aa8bdc3"]]);var E=k}}]);
//# sourceMappingURL=4739.f58569e0.js.map