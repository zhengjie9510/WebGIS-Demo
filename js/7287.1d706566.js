"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[7287],{87287:function(e,i,t){t.r(i),t.d(i,{default:function(){return F}});var n=t(73396),s=t(87139),o=t(49242);const a=e=>((0,n.dD)("data-v-4c832bb6"),e=e(),(0,n.Cn)(),e),l=a((()=>(0,n._)("h2",{class:"popup-title"},"经纬度",-1))),c={class:"popup-content"},r=a((()=>(0,n._)("div",{class:"triangle-bottom"},null,-1))),d=a((()=>(0,n._)("div",{id:"cesiumContainer"},null,-1)));function p(e,i,t,a,p,u){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.wy)((0,n._)("div",{class:"popup",style:(0,s.j5)(p.style)},[l,(0,n._)("div",c,[(0,n._)("div",null,"经度："+(0,s.zw)(p.info.lon),1),(0,n._)("div",null,"纬度："+(0,s.zw)(p.info.lat),1),(0,n._)("div",null,"高度："+(0,s.zw)(p.info.height),1)]),r],4),[[o.F8,p.visiable]]),d],64)}var u=t(67474),v=t(48545),g=t(40985),h=t(5360),f=t(28807),b=t(31724),w=t(70805),m=t(1220),x=t(69530);let Z,_,y;var C={data(){return{visiable:!1,style:{position:"absolute",top:"100px",left:"100px"},info:{lon:0,lat:0,height:0}}},mounted(){this.init()},methods:{async init(){const e=new u.Z("cesiumContainer",{terrainProvider:await v.Z(),animation:!1,timeline:!1});g.Z.supportsImageRenderingPixelated()&&(e.resolutionScale=window.devicePixelRatio),e.scene.postProcessStages.fxaa.enabled=!0,e.scene.debugShowFramesPerSecond=!0,e.camera.flyTo({destination:h.Z.fromDegrees(73,3,136,54),duration:0}),Z=new f.Z(e.scene.canvas),Z.setInputAction((i=>{if(_&&(_(),_=void 0,this.visiable=!1),e.terrainProvider instanceof b.Z)y=e.scene.camera.pickEllipsoid(i.position);else{const t=e.camera.getPickRay(i.position);y=e.scene.globe.pick(t,e.scene)}if(y){const i=e.scene.globe.ellipsoid.cartesianToCartographic(y),t=w.Z.toDegrees(i.longitude).toFixed(6),n=w.Z.toDegrees(i.latitude).toFixed(6),s=i.height.toFixed(2);this.info={lon:t,lat:n,height:s},_=e.scene.postRender.addEventListener((()=>{const i=m.Z.wgs84ToWindowCoordinates(e.scene,y);if(i){let e={top:i.y-115+"px",left:i.x-100+"px"};this.style=Object.assign(this.style,e),this.visiable=!0}}))}}),x.Z.LEFT_CLICK)}}},k=t(40089);const P=(0,k.Z)(C,[["render",p],["__scopeId","data-v-4c832bb6"]]);var F=P}}]);
//# sourceMappingURL=7287.1d706566.js.map