{"version":3,"file":"js/1802.1f733737.js","mappings":"wOACOA,GAAG,mB,UACNC,EAAAA,EAAAA,GAAuB,OAAlBD,GAAG,UAAQ,W,GAAhBE,G,0CADFC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,E,2FAMR,GACEC,UACEC,KAAKC,MACP,EACAC,QAAS,CACPD,OACE,MAAME,EAAS,IAAIC,EAAAA,EAAc,mBAC7BA,EAAAA,EAAAA,oCAEFD,EAAOE,gBAAkBC,OAAOC,kBAElCJ,EAAOK,MAAMC,kBAAkBC,KAAKC,SAAU,EAE9CX,KAAKY,MAAMT,GAEX,MAAMU,EAAST,EAAAA,EAAAA,YAA8B,OAAQ,MACrDD,EAAOW,OAAOC,OAAOF,EAAQ,IAAIT,EAAAA,EAAkB,GAAM,IAAQ,MACjED,EAAOW,OAAOE,gBAAgBZ,EAAAA,EAAAA,SAChC,EAIAQ,MAAO,SAAUT,GACf,MAAMc,EAAed,EAAOe,cAAcC,mBACxC,IAAIf,EAAAA,EAAoC,CACtCgB,IAAK,uCAGTH,EAAaI,eAAiBjB,EAAAA,EAAAA,MAG9B,MAAMkB,EAASC,SAASC,eAAe,UACvCrB,EAAOK,MAAMiB,cACXH,EAAOI,WAAaJ,EAAOK,cAAcC,YAE3C,MAAMC,EAAU,IAAIzB,EAAAA,EAA+BkB,GAEnD,IAAIQ,GAAa,EAEjB,SAASC,EAAKC,GACZ,IAAKF,EACH,OAGF,MAAMG,EAAiBD,EAASE,YAAYC,EACtCV,GACHH,EAAOI,WAAaO,GACrBX,EAAOK,cAAcC,YACvBN,EAAOc,MAAMC,KAAU,IAAQZ,EAAV,IACrBtB,EAAOK,MAAMiB,cAAgBA,CAC/B,CAEAI,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,WACHyB,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,aAEHyB,EAAQS,eAAeP,EAAM3B,EAAAA,EAAAA,YAC7ByB,EAAQS,eAAeP,EAAM3B,EAAAA,EAAAA,YAE7ByB,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,SACHyB,EAAQS,gBAAe,WACrBR,GAAa,CACf,GAAG1B,EAAAA,EAAAA,UACL,I,WCtEJ,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/layers_split.vue","webpack://webgis/./src/components/public/layers_split.vue?65b6"],"sourcesContent":["<template>\n  <div id=\"cesiumContainer\">\n    <div id=\"slider\"></div>\n  </div>\n</template>\n\n<script>\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\nimport * as Cesium from 'cesium'\nexport default {\n  mounted() {\n    this.init()\n  },\n  methods: {\n    init() {\n      const viewer = new Cesium.Viewer('cesiumContainer')\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\n        //判断是否支持图像渲染像素化处理\n        viewer.resolutionScale = window.devicePixelRatio\n      }\n      viewer.scene.postProcessStages.fxaa.enabled = true\n      // 开启分屏\n      this.split(viewer)\n      // 设置相机位置\n      const center = Cesium.Cartesian3.fromDegrees(116.38, 39.9);\n      viewer.camera.lookAt(center, new Cesium.Cartesian3(0.0, -1000.0, 3000.0));\n      viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\n    },\n    /**\n    * @param {Cesium.Viewer} viewer 控制点\n    */\n    split: function (viewer) {\n      const earthAtNight = viewer.imageryLayers.addImageryProvider(\n        new Cesium.OpenStreetMapImageryProvider({\n          url: 'https://a.tile.openstreetmap.org/'\n        })\n      );\n      earthAtNight.splitDirection = Cesium.SplitDirection.RIGHT; // Only show to the left of the slider.\n\n      // Sync the position of the slider with the split position\n      const slider = document.getElementById(\"slider\");\n      viewer.scene.splitPosition =\n        slider.offsetLeft / slider.parentElement.offsetWidth;\n\n      const handler = new Cesium.ScreenSpaceEventHandler(slider);\n\n      let moveActive = false;\n\n      function move(movement) {\n        if (!moveActive) {\n          return;\n        }\n\n        const relativeOffset = movement.endPosition.x;\n        const splitPosition =\n          (slider.offsetLeft + relativeOffset) /\n          slider.parentElement.offsetWidth;\n        slider.style.left = `${100.0 * splitPosition}%`;\n        viewer.scene.splitPosition = splitPosition;\n      }\n\n      handler.setInputAction(function () {\n        moveActive = true;\n      }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n      handler.setInputAction(function () {\n        moveActive = true;\n      }, Cesium.ScreenSpaceEventType.PINCH_START);\n\n      handler.setInputAction(move, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n      handler.setInputAction(move, Cesium.ScreenSpaceEventType.PINCH_MOVE);\n\n      handler.setInputAction(function () {\n        moveActive = false;\n      }, Cesium.ScreenSpaceEventType.LEFT_UP);\n      handler.setInputAction(function () {\n        moveActive = false;\n      }, Cesium.ScreenSpaceEventType.PINCH_END);\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#cesiumContainer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n\n#slider {\n  position: absolute;\n  left: 50%;\n  top: 0px;\n  background-color: #d3d3d3;\n  width: 5px;\n  height: 100%;\n  z-index: 9999;\n}\n\n#slider:hover {\n  cursor: ew-resize;\n}\n</style>\n","import { render } from \"./layers_split.vue?vue&type=template&id=6967ab52&scoped=true\"\nimport script from \"./layers_split.vue?vue&type=script&lang=js\"\nexport * from \"./layers_split.vue?vue&type=script&lang=js\"\n\nimport \"./layers_split.vue?vue&type=style&index=0&id=6967ab52&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zhengjie/Documents/webgis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6967ab52\"]])\n\nexport default __exports__"],"names":["id","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","mounted","this","init","methods","viewer","Cesium","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","split","center","camera","lookAt","lookAtTransform","earthAtNight","imageryLayers","addImageryProvider","url","splitDirection","slider","document","getElementById","splitPosition","offsetLeft","parentElement","offsetWidth","handler","moveActive","move","movement","relativeOffset","endPosition","x","style","left","setInputAction","__exports__","render"],"sourceRoot":""}