{"version":3,"file":"js/637.c9a6527f.js","mappings":"+KACOA,GAAG,mB,0CAARC,EAAAA,EAAAA,IAAgC,MAAhCC,E,mHAMF,MAAMC,EAAOC,EAAQ,MAErB,MAAMC,EACJC,YAAYC,GACVC,KAAKC,mBAAqB,IAAIC,EAAAA,EAC9BF,KAAKG,YAASC,EACdJ,KAAKK,YAASD,EACdJ,KAAKM,MAAQP,EAAQO,MACrBN,KAAKO,MAAQR,EAAQQ,KACvB,CACIC,iBACF,OAAO,CACT,CAEIC,wBACF,OAAOT,KAAKC,kBACd,CAEAS,QAAQC,GACN,OAAOT,EAAAA,EAAAA,sBACT,CAEAU,SAASD,EAAME,GAMb,OALKX,EAAAA,EAAeW,KAClBA,EAAS,CAAC,GAEZA,EAAON,MAAQL,EAAAA,EAAAA,kBAAkCF,KAAKK,OAAQM,EAAMT,EAAAA,EAAAA,IAAkBW,EAAON,OAC7FM,EAAOP,MAAQJ,EAAAA,EAAAA,kBAAkCF,KAAKG,OAAQQ,EAAM,GAAIE,EAAOP,OACxEO,CACT,CAEAC,OAAOC,GACL,OAAQf,OAASe,GACdA,aAAiBlB,GAChBK,EAAAA,EAAAA,OAAuBF,KAAKK,OAAQU,EAAMV,SAC1CH,EAAAA,EAAAA,OAAuBF,KAAKG,OAAQY,EAAMZ,OAChD,EAEFa,OAAOC,iBAAiBpB,EAA2BqB,UAAW,CAC5DZ,MAAOJ,EAAAA,EAAgC,SACvCK,MAAOL,EAAAA,EAAgC,WAEzCA,EAAOL,2BAA6BA,EACpCK,EAAAA,EAAAA,uBAAyC,yBACzCA,EAAAA,EAAAA,yBAA2C,0ZAa3CA,EAAAA,EAAAA,eAAAA,YAA2CA,EAAAA,EAAAA,uBAAwC,CACjFiB,OAAQ,CACNC,KAAMlB,EAAAA,EAAAA,uBACNmB,SAAU,CACRd,MAAO,IAAIL,EAAAA,EAAa,EAAK,EAAK,EAAK,GACvCI,MAAO,GAETgB,OAAQpB,EAAAA,EAAAA,0BAGVqB,YAAa,SAAUC,GACrB,OAAO,CACT,IAGF,OACEC,UACEzB,KAAK0B,MACP,EACAC,QAAS,CACPD,OACE,IAAIE,EAAS,IAAI1B,EAAAA,EAAc,kBAAmB,CAChD2B,gBAAiB,IAAI3B,EAAAA,EAAkC,CACrD4B,IAAK,6DACLC,WAAY,CAAC,IAAK,IAAK,IAAK,SAG5B7B,EAAAA,EAAAA,oCAEF0B,EAAOI,gBAAkBC,OAAOC,kBAElCN,EAAOO,MAAMC,kBAAkBC,KAAKC,SAAU,EAE9CpC,EAAAA,EAAAA,KAA8BP,GAAM4C,MAAKC,IACvCZ,EAAOa,YAAYC,IAAIF,GACvB,IAAIG,EAAWH,EAAWG,SAASC,OACnC,IAAK,IAAIC,KAAUF,EACjBE,EAAOC,SAASC,MAAQ,EACxBF,EAAOC,SAAStB,SAAW,IAAItB,EAAOL,2BAA2B,CAC/DU,MAAOL,EAAAA,EAAAA,KACPI,MAAO,KAGXsB,EAAOoB,OAAOR,EAAW,GAE7B,I,QCtGJ,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/trail_line.vue","webpack://webgis/./src/components/public/trail_line.vue?0e36"],"sourcesContent":["<template>\r\n  <div id=\"cesiumContainer\"></div>\r\n</template>\r\n\r\n<script>\r\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\r\nimport * as Cesium from 'cesium'\r\nconst road = require('../../../public/SampleData/road.json')\r\n\r\nclass SpriteLineMaterialProperty {\r\n  constructor(options) {\r\n    this._definitionChanged = new Cesium.Event();\r\n    this._speed = undefined\r\n    this._color = undefined\r\n    this.speed = options.speed\r\n    this.color = options.color\r\n  }\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n\r\n  get definitionChanged() {\r\n    return this._definitionChanged;\r\n  }\r\n  // eslint-disable-next-line\r\n  getType(time) {\r\n    return Cesium.Material.SpriteLineMaterialType;\r\n  }\r\n\r\n  getValue(time, result) {\r\n    if (!Cesium.defined(result)) {\r\n      result = {};\r\n    }\r\n    result.color = Cesium.Property.getValueOrDefault(this._color, time, Cesium.Color.RED, result.color);\r\n    result.speed = Cesium.Property.getValueOrDefault(this._speed, time, 10, result.speed);\r\n    return result;\r\n  }\r\n\r\n  equals(other) {\r\n    return (this === other ||\r\n      (other instanceof SpriteLineMaterialProperty &&\r\n        Cesium.Property.equals(this._color, other._color) &&\r\n        Cesium.Property.equals(this._speed, other._speed)))\r\n  }\r\n}\r\nObject.defineProperties(SpriteLineMaterialProperty.prototype, {\r\n  speed: Cesium.createPropertyDescriptor('speed'),\r\n  color: Cesium.createPropertyDescriptor('color')\r\n})\r\nCesium.SpriteLineMaterialProperty = SpriteLineMaterialProperty\r\nCesium.Material.SpriteLineMaterialType = 'SpriteLineMaterialType';\r\nCesium.Material.SpriteLineMaterialSource = `\r\n  uniform vec4 color;  \r\n  const float pi = 3.1415926;\r\n  czm_material czm_getMaterial(czm_materialInput materialInput)\r\n  {\r\n    czm_material material = czm_getDefaultMaterial(materialInput);\r\n    float time = fract( czm_frameNumber * speed / 1000.0);\r\n    vec2 st = materialInput.st;\r\n    material.diffuse = color.rgb;\r\n    material.alpha = 1.0 - fract(st.s * 2.0 + time);\r\n    return material;\r\n  }\r\n  `\r\nCesium.Material._materialCache.addMaterial(Cesium.Material.SpriteLineMaterialType, {\r\n  fabric: {\r\n    type: Cesium.Material.SpriteLineMaterialType,\r\n    uniforms: {\r\n      color: new Cesium.Color(1.0, 1.0, 0.0, 1.0),\r\n      speed: 5.0\r\n    },\r\n    source: Cesium.Material.SpriteLineMaterialSource\r\n  },\r\n  // eslint-disable-next-line\r\n  translucent: function (material) {\r\n    return true;\r\n  }\r\n})\r\n\r\nexport default {\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      var viewer = new Cesium.Viewer('cesiumContainer', {\r\n        imageryProvider: new Cesium.UrlTemplateImageryProvider({\r\n          url: \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\r\n          subdomains: [\"a\", \"b\", \"c\", \"d\"],\r\n        })\r\n      })\r\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\r\n        //判断是否支持图像渲染像素化处理\r\n        viewer.resolutionScale = window.devicePixelRatio\r\n      }\r\n      viewer.scene.postProcessStages.fxaa.enabled = true\r\n\r\n      Cesium.GeoJsonDataSource.load(road).then(dataSource => {\r\n        viewer.dataSources.add(dataSource);\r\n        var entities = dataSource.entities.values;\r\n        for (let entity of entities) {\r\n          entity.polyline.width = 1\r\n          entity.polyline.material = new Cesium.SpriteLineMaterialProperty({\r\n            color: Cesium.Color.AQUA,\r\n            speed: 10.0\r\n          })\r\n        }\r\n        viewer.zoomTo(dataSource)\r\n      });\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#cesiumContainer {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./trail_line.vue?vue&type=template&id=35251aa8&scoped=true\"\nimport script from \"./trail_line.vue?vue&type=script&lang=js\"\nexport * from \"./trail_line.vue?vue&type=script&lang=js\"\n\nimport \"./trail_line.vue?vue&type=style&index=0&id=35251aa8&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Documents\\\\GitHub\\\\Z-Personal\\\\webgis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-35251aa8\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","road","require","SpriteLineMaterialProperty","constructor","options","this","_definitionChanged","Cesium","_speed","undefined","_color","speed","color","isConstant","definitionChanged","getType","time","getValue","result","equals","other","Object","defineProperties","prototype","fabric","type","uniforms","source","translucent","material","mounted","init","methods","viewer","imageryProvider","url","subdomains","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","then","dataSource","dataSources","add","entities","values","entity","polyline","width","zoomTo","__exports__","render"],"sourceRoot":""}