{"version":3,"file":"js/238.3f1fb8ac.js","mappings":"+KACOA,GAAG,mB,0CAARC,EAAAA,EAAAA,IAAgC,MAAhCC,E,gHAOF,GACEC,UACEC,KAAKC,MACP,EACAC,QAAS,CACPD,OACE,IAAIE,EAAS,IAAIC,EAAAA,EAAc,mBAC3BA,EAAAA,EAAAA,oCAEFD,EAAOE,gBAAkBC,OAAOC,kBAElCJ,EAAOK,MAAMC,kBAAkBC,KAAKC,SAAU,EAC9C,MAAMC,EAAuB,krBAmB7BT,EAAOK,MAAMK,WAAWC,IACtB,IAAIV,EAAAA,EAAiB,CACnBW,kBAAmBf,KAAKgB,oBAAoB,CAAC,QAAS,QAAS,KAC/DC,WAAY,IAAIb,EAAAA,EAAkC,CAChDc,SAAU,IAAId,EAAAA,EAAgB,CAC5Be,OAAQ,CACNC,SAAU,CACRC,MAAO,IAAIjB,EAAAA,EAAa,EAAK,GAAK,EAAK,IACvCkB,MAAO,EACPC,QAAS,GACTC,SAAU,GAEZC,OAAQb,OAIdc,cAAc,KAGlB,MAAMC,EAASvB,EAAAA,EAAAA,YAA8B,QAAS,QACtDD,EAAOyB,OAAOC,OAAOF,EAAQ,IAAIvB,EAAAA,EAAkB,GAAM,IAAS,OAClED,EAAOyB,OAAOE,gBAAgB1B,EAAAA,EAAAA,SAChC,EAOAY,oBAAqB,SAAUW,EAAQI,GACrC,IAAIhB,EAAoB,GACxB,IAAK,IAAIiB,EAAI,EAAGA,EAAID,EAAKC,IAAK,CAC5B,IAAIC,EAAMN,EAAO,GAA6B,IAAvBO,KAAKC,SAAW,IACnCC,EAAMT,EAAO,GAA6B,IAAvBO,KAAKC,SAAW,IACvC,MAAME,EAAW,IAAIjC,EAAAA,EAAwB,CAC3CkC,UAAWlC,EAAAA,EAAAA,wBAA0C,CACnD6B,EAAKG,EAAK,EAAGH,EAAKG,EAAK,IAAOF,KAAKC,WAErCI,MAAO,IAEHC,EAAW,IAAIpC,EAAAA,EAAwB,CAAEiC,SAAUA,IACzDtB,EAAkB0B,KAAKD,EACzB,CACA,OAAOzB,CACT,I,QC5EJ,MAAM2B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/vertical_trail_line.vue","webpack://webgis/./src/components/public/vertical_trail_line.vue?41ea"],"sourcesContent":["<template>\r\n  <div id=\"cesiumContainer\"></div>\r\n</template>\r\n\r\n<script>\r\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\r\nimport * as Cesium from 'cesium'\r\n// 定义材质 结束\r\nexport default {\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      var viewer = new Cesium.Viewer('cesiumContainer')\r\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\r\n        //判断是否支持图像渲染像素化处理\r\n        viewer.resolutionScale = window.devicePixelRatio\r\n      }\r\n      viewer.scene.postProcessStages.fxaa.enabled = true\r\n      const fragmentShaderSource = `\r\n        uniform vec4 color;\r\n        uniform float speed;\r\n        uniform float percent;\r\n        uniform float gradient;\r\n        \r\n        czm_material czm_getMaterial(czm_materialInput materialInput){\r\n          czm_material material = czm_getDefaultMaterial(materialInput);\r\n          vec2 st = materialInput.st;\r\n          float t = fract(czm_frameNumber * speed / 1000.0);\r\n          t *= (1.0 + percent);\r\n          float alpha = smoothstep(t- percent, t, st.s) * step(-t, -st.s);\r\n          alpha += gradient;\r\n          material.diffuse = color.rgb;\r\n          material.alpha = alpha;\r\n          material.emission = vec3(0.7);\r\n          return material;\r\n        }\r\n        `\r\n      viewer.scene.primitives.add(\r\n        new Cesium.Primitive({\r\n          geometryInstances: this.generateRandomLines([104.065, 30.659], 100),\r\n          appearance: new Cesium.PolylineMaterialAppearance({\r\n            material: new Cesium.Material({\r\n              fabric: {\r\n                uniforms: {\r\n                  color: new Cesium.Color(1.0, 0.5, 0.0, 0.5),\r\n                  speed: 5.0,\r\n                  percent: 0.2,\r\n                  gradient: 0.00\r\n                },\r\n                source: fragmentShaderSource\r\n              },\r\n            }),\r\n          }),\r\n          allowPicking: false\r\n        })\r\n      )\r\n      const center = Cesium.Cartesian3.fromDegrees(104.065, 30.659);\r\n      viewer.camera.lookAt(center, new Cesium.Cartesian3(0.0, -10000.0, 3930.0));\r\n      viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\r\n    },\r\n    /**\r\n     * @description: 产生随机线\r\n     * @param center：中心点坐标\r\n     * @param num：随机线数量\r\n     * @return 返回线\r\n     */\r\n    generateRandomLines: function (center, num) {\r\n      let geometryInstances = []\r\n      for (let i = 0; i < num; i++) {\r\n        let lon = center[0] + (Math.random() - 0.5) * 0.1;\r\n        let lat = center[1] + (Math.random() - 0.5) * 0.1;\r\n        const geometry = new Cesium.PolylineGeometry({\r\n          positions: Cesium.Cartesian3.fromDegreesArrayHeights([\r\n            lon, lat, 0, lon, lat, 5000 * Math.random()\r\n          ]),\r\n          width: 1.0,\r\n        })\r\n        const instance = new Cesium.GeometryInstance({ geometry: geometry })\r\n        geometryInstances.push(instance)\r\n      }\r\n      return geometryInstances\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#cesiumContainer {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./vertical_trail_line.vue?vue&type=template&id=38747462&scoped=true\"\nimport script from \"./vertical_trail_line.vue?vue&type=script&lang=js\"\nexport * from \"./vertical_trail_line.vue?vue&type=script&lang=js\"\n\nimport \"./vertical_trail_line.vue?vue&type=style&index=0&id=38747462&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Documents\\\\GitHub\\\\webgis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38747462\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","mounted","this","init","methods","viewer","Cesium","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","fragmentShaderSource","primitives","add","geometryInstances","generateRandomLines","appearance","material","fabric","uniforms","color","speed","percent","gradient","source","allowPicking","center","camera","lookAt","lookAtTransform","num","i","lon","Math","random","lat","geometry","positions","width","instance","push","__exports__","render"],"sourceRoot":""}