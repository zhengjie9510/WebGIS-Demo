"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[7410],{57410:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(73396);const i=e=>((0,r.dD)("data-v-ec9b2d76"),e=e(),(0,r.Cn)(),e),a={class:"container"},s=i((()=>(0,r._)("canvas",{id:"c"},null,-1))),o=[s];function c(e,t,n,i,s,c){return(0,r.wg)(),(0,r.iD)("div",a,o)}n(63408),n(14590);var h=n(11114);class l extends h.u9r{constructor(e=1,t=1,n){super(),this.type="SurfaceGeometry";const r=e/2,i=t/2,a=n[0].length-1,s=n.length-1,o=Math.floor(a),c=Math.floor(s),l=o+1,d=c+1,u=e/o,v=t/c,m=l*d,f=o*c*6,p=new Float32Array(3*m),w=new Uint16Array(f);let x=0,g=0;for(let h=0;h<d;h++){const e=h*v-i;for(let t=0;t<l;t++){const i=t*u-r;p[x]=i,p[x+1]=-e,p[x+2]=n[t][h],x+=3}}for(let h=0;h<c;h++)for(let e=0;e<o;e++){const t=e+l*h,n=e+l*(h+1),r=e+1+l*(h+1),i=e+1+l*h;w[g++]=t,w[g++]=n,w[g++]=i,w[g++]=n,w[g++]=r,w[g++]=i}this.setIndex(new h.TlE(w,1)),this.setAttribute("position",new h.TlE(p,3)),this.computeVertexNormals()}}class d extends h.jyz{constructor(e){super(),this.type="SurfaceMaterial",this.vertexShader="\n        out float value;\n        void main() {\n            value = position.z;\n            vec3 transformed = position.xyz;\n            vec4 mvPosition = modelViewMatrix * vec4(transformed,1.);\n            gl_Position = projectionMatrix * mvPosition;\n        }",this.fragmentShader="\n        uniform float min_value;\n        uniform float max_value;\n        in float value;\n        vec4 interpolateColor(float t) {\n          t = smoothstep(min_value,max_value,t);\n          vec3 green = vec3(0.0, 1.0, 0.0);\n          vec3 red = vec3(1.0, 0.0, 0.0);\n          vec3 color = mix(green, red, t);\n          return vec4(color, smoothstep(0.0,0.1,t));\n        }\n        void main() {\n\n            gl_FragColor = interpolateColor(value);\n        }\n\n        ",void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}}class u{constructor(e){this.canvas=e,this.renderer=new h.CP7({canvas:this.canvas,antialias:!0}),this.renderer.setSize(this.canvas.innerWidth,this.canvas.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.scene=new h.xsS,this.camera=new h.cPb(45,this.canvas.clientWidth/this.canvas.clientHeight,.1,1e4),this.camera.position.z=5,this.init()}init(){const e=this.generateMatrix(100,10),t=new l(5,5,e),n=new d({wireframe:!0,uniforms:{min_value:{value:0},max_value:{value:1}},transparent:!0}),r=new h.Kj0(t,n);r.rotateX(-45),this.mesh=r,this.scene.add(r)}generateMatrix(e,t){for(var n=[],r=Math.floor(e/2),i=Math.floor(e/2),a=0;a<e;a++){n[a]=[];for(var s=0;s<e;s++){var o=Math.sqrt(Math.pow(a-r,2)+Math.pow(s-i,2)),c=Math.exp(-Math.pow(o,2)/(2*Math.pow(t,2)));n[a][s]=c}}return n}resizeRendererToDisplaySize(e){const t=e.domElement,n=t.clientWidth,r=t.clientHeight,i=t.width!==n||t.height!==r;return i&&e.setSize(n,r,!1),i}render(){if(this.resizeRendererToDisplaySize(this.renderer)){const e=this.renderer.domElement;this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix()}this.mesh.rotateZ(.005),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render.bind(this))}}var v={mounted(){this.init()},methods:{init(){const e=document.querySelector("#c"),t=new u(e);t.render()}}},m=n(40089);const f=(0,m.Z)(v,[["render",c],["__scopeId","data-v-ec9b2d76"]]);var p=f}}]);
//# sourceMappingURL=7410.299ef616.js.map